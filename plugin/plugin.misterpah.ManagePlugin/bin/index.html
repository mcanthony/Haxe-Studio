<script src="../../../bin/js/jquery-2.0.3.min.js"></script>
<script src="../../../bin/js/bootstrap/bootstrap-notify.js"></script>	
<script src="../../../bin/js/bootstrap/bootstrap.min.js"></script>	
<script src="../../../bin/js/support.js"></script>	
<script src="../../../bin/js/node.dir.walker.js"></script>



<script>tsort = require('gaia-tsort');gui = require("nw.gui");win = gui.Window.get();</script>
<script src="../../../bin/js/haxestudio.js"></script>

<link href="../../../bin/css/bootstrap.min.css" rel="stylesheet" media="screen">
<link href="../../../bin/css/bootstrap-glyphicons.css" rel="stylesheet" media="screen">
<link href="../../../bin/css/bootstrap-notify.css" rel="stylesheet" media="screen">
<title>Manage Plugin</title>

<style>
.grayscale { 
  -webkit-filter: grayscale(100%);
  -moz-filter: grayscale(100%);
  -ms-filter: grayscale(100%);
  -o-filter: grayscale(100%);
  filter: grayscale(100%);
  filter: url(grayscale.svg); /* Firefox 4+ */
  filter: gray; /* IE 6-9 */
}


.box_shadow
{
-webkit-box-shadow: 0 0 10px 0 #eee;
box-shadow: 0 0 10px 0 #eee;
border:1px solid #ddd;
padding:10px;
-webkit-border-radius: 4px;
border-radius: 4px;
margin-bottom:10px;
}
</style>

<script>

	
var fs = require("fs");
function openProject(obj)
{
grayscale_all();
var id = $(obj).attr("meta");
$("#"+id).css("display","block");
$(obj).removeClass("grayscale");
$("#right_panel").css("display","block");
}


$(document).ready(function()
	{
	url = (document.URL).split("/");
	url.pop();
	path = "../plugin";
	//walk(path,function(p1,p2,p3){console.dir(p2);/*scan_project_template(p2);*/});
	var available_plugin = Utils.readDir(path);
	console.dir(available_plugin);
	var filename = "";
	for (var i = 0;i < available_plugin.length;i++)
		{
		var filename = path +"/"+available_plugin[i]+"/bin/plugin.json";
		
		var ret = fs.readFileSync(filename,"utf-8");
		var data = JSON.parse(ret);
		console.log(data);
		display_plugin(i,data);
		/*
		template[data.name] = data;
		console.dir(data);
		*/
		//$("#project_list").append(build_list(data));
		//$("#project_desc").append(build_desc(data));
		}



	
	});


function display_plugin(i,data)
	{
	i = i+1;
var ret = ['<div class="col-xs-12 clearfix">',
'<div class="col-xs-9"><b>'+data.name+' v'+data.version+'</b> <br>('+data.actualName+')  <small>by '+data.author+'</small> <p>'+data.description+'</p></div>',
'<div class="col-xs-3">',
    '<div class="col-xs-3">',
		//'<span class="glyphicon glyphicon-cog" style="font-size:30px;"></span>',
    '</div>',
	'<div class="col-xs-offset-3 col-xs-6">',
    	'<button class="btn btn-primary btn-block active" id="'+data.actualName+'" >ON</button>',
    '</div>',
'</div>',
'</div><br>'].join("\n");
	
	$("#table_content").append(ret);
	}

var template = {}	
	
</script>
<div style="z-index:9999" class='notifications bottom-right'></div>
<div class="container">
	<h1>Manage Plugin 
		<button class="btn btn-primary active">CORE Plugin</button>
	</h1>
	<hr></hr>
	<div id="table_content">

	</div>
</div>

